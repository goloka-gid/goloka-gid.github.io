<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Ä –≠–ª–ª–∏: 30 –¥–Ω–µ–π —á—É–¥–µ—Å</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            /* –ù–µ–∂–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞: —É—Ç—Ä–µ–Ω–Ω—è—è –ª–∞–≤–∞–Ω–¥–∞ –∏ –∂–µ–º—á—É–≥ */
            --bg-gradient: linear-gradient(135deg, #fdfbf7 0%, #e8e3f5 100%);
            --accent: #9b87f5;
            --card-bg: rgba(255, 255, 255, 0.85);
            --text: #4a4a6a;
            --shadow: rgba(155, 135, 245, 0.2);
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-gradient);
            background-attachment: fixed;
            color: var(--text);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
        .header {
            text-align: center;
            margin-bottom: 25px;
        }
        .header h1 {
            color: #7c67d6;
            margin: 0;
            font-size: 26px;
            text-shadow: 1px 1px 2px white;
        }
        .header p {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 5px;
        }

        /* –°–µ—Ç–∫–∞ –¥–Ω–µ–π */
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            max-width: 500px;
            margin: 0 auto 40px auto;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–Ω—è */
        .day-card {
            background: var(--card-bg);
            backdrop-filter: blur(8px);
            border-radius: 22px;
            padding: 15px 5px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 6px 15px var(--shadow);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .day-card:active {
            transform: scale(0.92);
            background: white;
        }
        .day-num {
            font-size: 10px;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .day-icon {
            font-size: 24px;
            margin: 6px 0;
            filter: drop-shadow(0 2px 4px var(--shadow));
        }
        .artifact-label {
            font-size: 11px;
            font-weight: 600;
            line-height: 1.2;
            color: var(--text);
            padding: 0 5px;
        }

        /* –≠–∫—Ä–∞–Ω –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        #content-page {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-gradient);
            overflow-y: auto;
            z-index: 1000;
            padding: 20px;
            box-sizing: border-box;
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--accent);
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .section-box {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .section-title {
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 15px;
            display: block;
            font-size: 18px;
            border-left: 4px solid var(--accent);
            padding-left: 10px;
        }

        /* –¢–∞–±—ã –ê—É–¥–∏–æ/–¢–µ–∫—Å—Ç */
        .tab-menu { display: flex; gap: 8px; margin-bottom: 15px; }
        .tab-btn {
            flex: 1; padding: 10px;
            border: 1.5px solid var(--accent);
            background: none; border-radius: 12px;
            color: var(--accent); font-weight: 600;
            transition: 0.2s;
        }
        .tab-btn.active { background: var(--accent); color: white; }

        .text-content {
            display: none;
            font-size: 15px;
            line-height: 1.7;
            color: #555;
            margin-top: 15px;
            white-space: pre-wrap;
            background: #fafafa;
            padding: 15px;
            border-radius: 12px;
        }

        audio { width: 100%; border-radius: 10px; }

        /* –î–µ–∫–æ—Ä */
        body::before { content: "üå∏"; position: fixed; top: 10px; right: 10px; font-size: 30px; opacity: 0.15; pointer-events: none; }
        body::after { content: "üåø"; position: fixed; bottom: 10px; left: 10px; font-size: 30px; opacity: 0.15; pointer-events: none; }
    </style>
</head>
<body>

    <div class="header">
        <h1>‚ú® –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≠–ª–ª–∏</h1>
        <p>–ö–∞–∫–æ–µ —á—É–¥–æ –∂–¥–µ—Ç –Ω–∞—Å —Å–µ–≥–æ–¥–Ω—è?</p>
    </div>

    <div class="grid" id="main-grid"></div>

    <div id="content-page">
        <button class="back-btn" onclick="closeDay()">‚Üê –ù–∞–∑–∞–¥</button>
        <h3 id="day-number-label" style="margin:0; font-size: 14px; color: #888; text-align: center;"></h3>
        <h2 id="artifact-name-label" style="margin-top:5px; color: var(--accent); text-align: center; margin-bottom: 25px;"></h2>

        <div class="section-box">
            <span class="section-title">üìñ –ò—Å—Ç–æ—Ä–∏—è –≠–ª–ª–∏</span>
            <div class="tab-menu">
                <button class="tab-btn active" onclick="setMode(this, 'story-audio', 'story-text')">–°–ª—É—à–∞—Ç—å</button>
                <button class="tab-btn" onclick="setMode(this, 'story-text', 'story-audio')">–ß–∏—Ç–∞—Ç—å</button>
            </div>
            <audio id="story-audio" controls></audio>
            <div id="story-text" class="text-content"></div>
        </div>

        <div class="section-box">
            <span class="section-title">üéµ –ü–µ—Å–µ–Ω–∫–∞ –≠–ª–ª–∏</span>
            <audio id="song-audio" controls></audio>
        </div>

        <div class="section-box">
            <span class="section-title">üß∏ –î–ª—è –¥–µ—Ç–µ–π</span>
            <div class="tab-menu">
                <button class="tab-btn active" onclick="setMode(this, 'child-audio', 'child-text')">–ê—É–¥–∏–æ</button>
                <button class="tab-btn" onclick="setMode(this, 'child-text', 'child-audio')">–¢–µ–∫—Å—Ç</button>
            </div>
            <audio id="child-audio" controls></audio>
            <div id="child-text" class="text-content"></div>
        </div>

        <div class="section-box">
            <span class="section-title">üßò –î–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö</span>
            <div class="tab-menu">
                <button class="tab-btn active" onclick="setMode(this, 'adult-audio', 'adult-text')">–ê—É–¥–∏–æ</button>
                <button class="tab-btn" onclick="setMode(this, 'adult-text', 'adult-audio')">–¢–µ–∫—Å—Ç</button>
            </div>
            <audio id="adult-audio" controls></audio>
            <div id="adult-text" class="text-content"></div>
        </div>
    </div>

    <script>
        const artifacts = ["–í–æ–ª—à–µ–±–Ω–∞—è –ö–∏—Å—Ç—å", "–ó–µ—Ä–∫–∞–ª–æ –ú–µ—á—Ç—ã", "–ö–æ–º–ø–∞—Å –ù–∞–º–µ—Ä–µ–Ω–∏–π", "–°—É–Ω–¥—É–∫ –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–µ–π", "–ê–º—É–ª–µ—Ç –°–∏–ª—ã", "–í–æ–ª—à–µ–±–Ω—ã–π –ü–æ—è—Å", "–©–∏—Ç –ù–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏", "–ú–æ—Å—Ç –†–∞–¥–æ—Å—Ç–∏", "–õ–æ–≤–µ—Ü –ú—ã—Å–ª–µ–π", "–í–æ–ª—à–µ–±–Ω–∞—è –ö–Ω–æ–ø–∫–∞", "–†—é–∫–∑–∞–∫ –ü–æ–¥–¥–µ—Ä–∂–∫–∏", "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –°–∞–¥", "–°–≤–µ—Ç–æ—Ñ–æ—Ä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏—è", "–î–æ–º–∏–∫ –°–ø–æ–∫–æ–π—Å—Ç–≤–∏—è", "–í–æ–ª—à–µ–±–Ω—ã–π –®–∞–≥", "–í–æ–ª—à–µ–±–Ω—ã–µ –û—á–∫–∏", "–û–¥–µ—è–ª–æ –ó–∞–±–æ—Ç—ã", "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –§–æ–Ω–∞—Ä–∏–∫", "–í–æ–ª—à–µ–±–Ω–æ–µ –°–µ—Ä–¥—Ü–µ", "–õ–µ—Å –¢–∏—à–∏–Ω—ã", "–í–æ–ª–Ω–∞ –†–∞–¥–æ—Å—Ç–∏", "–°–≤–µ—Ç–ª—è—á–æ–∫ –ó–∞–±–æ—Ç—ã", "–í–æ–ª—à–µ–±–Ω–æ–µ –£—Ö–æ", "–†–µ–∫–∞ –ü—Ä–∏–Ω—è—Ç–∏—è", "–õ–∞–º–ø–æ—á–∫–∞ –û—Å–æ–∑–Ω–∞–Ω–∏—è", "–ö—Ä—ã–ª—å—è –ú–µ—á—Ç—ã", "–ö—Ä–∏—Å—Ç–∞–ª–ª –ß–µ—Å—Ç–Ω–æ—Å—Ç–∏", "–ó–æ–ª–æ—Ç–∞—è –ù–∏—Ç—å", "–ó–≤–µ–∑–¥–∞ –ù–∞–¥–µ–∂–¥—ã", "–í–æ–ª—à–µ–±–Ω—ã–π –ö–ª—é—á"];

        const dayTexts = {
            1: {
                story: `‚ú® –≠–ª–ª–∏ –∏ –í–æ–ª—à–µ–±–Ω–∞—è –ö–∏—Å—Ç—å ‚ú®\n\n–í –¥–∞–ª—ë–∫–æ–º —É–≥–æ–ª–∫–µ –≤–æ–ª—à–µ–±–Ω–æ–≥–æ –ª–µ—Å–∞ –∂–∏–ª–∞ –¥–µ–≤–æ—á–∫–∞ –≠–ª–ª–∏. –û–¥–Ω–∞–∂–¥—ã –µ–π –ø—Ä–∏—Å–Ω–∏–ª—Å—è —Å–æ–Ω –æ —Å–æ–∫—Ä–æ–≤–∏—â–µ, –∞ –ø—Ä–æ—Å–Ω—É–≤—à–∏—Å—å, –æ–Ω–∞ –Ω–∞—à–ª–∞ –í–æ–ª—à–µ–±–Ω—É—é –ö–∏—Å—Ç—å –°–µ—Ä–¥—Ü–∞. \n\n‚Äî –í—Å—ë, —á—Ç–æ —Ç—ã –Ω–∞—Ä–∏—Å—É–µ—à—å –µ—é –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è ‚Äî –Ω–µ–ø—Ä–µ–º–µ–Ω–Ω–æ –æ–∂–∏–≤—ë—Ç –¥–ª—è —Ç–µ–±—è, ‚Äî –ø—Ä–æ—à–µ–ø—Ç–∞–ª –≤–µ—Ç–µ—Ä–æ–∫. \n\n–≠–ª–ª–∏ –≤–∑–º–∞—Ö–Ω—É–ª–∞ –∫–∏—Å—Ç—å—é, –∏ –≤ –≤–æ–∑–¥—É—Ö–µ –≤–æ–∑–Ω–∏–∫–ª–∞ —Å–∏—è—é—â–∞—è —Ä–∞–¥—É–≥–∞! –° —Ç–µ—Ö –ø–æ—Ä, –∫–æ–≥–¥–∞ –µ–π –≥—Ä—É—Å—Ç–Ω–æ –∏–ª–∏ —Å—Ç—Ä–∞—à–Ω–æ, –æ–Ω–∞ –¥–æ—Å—Ç–∞—ë—Ç —Å–≤–æ—é –Ω–µ–≤–∏–¥–∏–º—É—é –ö–∏—Å—Ç—å –∏ —Ä–∏—Å—É–µ—Ç –º–∏—Ä, –ø–æ–ª–Ω—ã–π –Ω–∞–¥–µ–∂–¥—ã –∏ —Ä–∞–¥–æ—Å—Ç–∏.`,
                child: "–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –≤ —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö ‚Äî –í–æ–ª—à–µ–±–Ω–∞—è –ö–∏—Å—Ç—å. –ö–∞–∫–æ–≥–æ –æ–Ω–∞ —Ü–≤–µ—Ç–∞? –î–∞–≤–∞–π –Ω–∞—Ä–∏—Å—É–µ–º –≤ –≤–æ–∑–¥—É—Ö–µ –±–æ–ª—å—à–æ–µ –¥–æ–±—Ä–æ–µ —Å–æ–ª–Ω—Ü–µ...",
                adult: "–ó–∞–∫—Ä–æ–π—Ç–µ –≥–ª–∞–∑–∞. –ü–æ—á—É–≤—Å—Ç–≤—É–π—Ç–µ, –∫–∞–∫ –≤ –≤–∞—à–µ–π —Ä—É–∫–µ —Ä–æ–∂–¥–∞–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ–∑–∏–¥–∞–Ω–∏—è. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤–∞—à–µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø–æ–∫–æ—è..."
            }
        };

        const grid = document.getElementById('main-grid');
        artifacts.forEach((name, i) => {
            const card = document.createElement('div');
            card.className = 'day-card';
            card.innerHTML = `
                <div class="day-num">–î–µ–Ω—å ${i+1}</div>
                <div class="day-icon">‚ú®</div>
                <div class="artifact-label">${name}</div>
            `;
            card.onclick = () => openDay(i+1, name);
            grid.appendChild(card);
        });

        function openDay(num, name) {
            document.getElementById('day-number-label').innerText = `–ü–†–ò–ö–õ–Æ–ß–ï–ù–ò–ï ${num}`;
            document.getElementById('artifact-name-label').innerText = name;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤–∫–ª–∞–¥–∫–∏ –Ω–∞ "–ê—É–¥–∏–æ" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
            document.querySelectorAll('.text-content').forEach(t => t.style.display = 'none');
            document.querySelectorAll('audio').forEach(a => a.style.display = 'block');
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active');
                if (b.innerText === '–°–ª—É—à–∞—Ç—å' || b.innerText === '–ê—É–¥–∏–æ') b.classList.add('active');
            });

            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É–¥–∏–æ (–ø—É—Ç—å audio/day1_story.mp3 –∏ —Ç.–¥.)
            document.getElementById('story-audio').src = `audio/day${num}_story.mp3`;
            document.getElementById('song-audio').src = `audio/day${num}_song.mp3`;
            document.getElementById('child-audio').src = `audio/day${num}_child.mp3`;
            document.getElementById('adult-audio').src = `audio/day${num}_adult.mp3`;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤
            document.getElementById('story-text').innerText = dayTexts[num]?.story || "–ò—Å—Ç–æ—Ä–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è...";
            document.getElementById('child-text').innerText = dayTexts[num]?.child || "–¢–µ–∫—Å—Ç –º–µ–¥–∏—Ç–∞—Ü–∏–∏ —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è...";
            document.getElementById('adult-text').innerText = dayTexts[num]?.adult || "–¢–µ–∫—Å—Ç –º–µ–¥–∏—Ç–∞—Ü–∏–∏ —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è...";
            
            document.getElementById('content-page').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function closeDay() {
            document.querySelectorAll('audio').forEach(a => { a.pause(); a.src = ""; });
            document.getElementById('content-page').style.display = 'none';
        }

        function setMode(btn, showId, hideId) {
            btn.parentNode.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById(showId).style.display = 'block';
            document.getElementById(hideId).style.display = 'none';
        }

        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
    </script>
</body>
</html>
