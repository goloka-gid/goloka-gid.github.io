<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≠–ª–ª–∏: 30 –¥–Ω–µ–π —á—É–¥–µ—Å</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --main-bg: #fdfbf7;
            --accent: #9b87f5;
            --text: #4a4a4a;
            --gold: #ffd700;
        }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: var(--main-bg);
            color: var(--text);
            margin: 0; padding: 20px;
            display: flex; flex-direction: column; align-items: center;
        }
        .header { text-align: center; margin-bottom: 20px; }
        .header h1 { color: var(--accent); margin-bottom: 5px; }
        
        .map-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            width: 100%; max-width: 400px;
        }
        .day-box {
            background: white;
            border-radius: 12px;
            padding: 15px 5px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            cursor: pointer;
            border: 2px solid transparent;
            transition: 0.3s;
        }
        .day-box:active { transform: scale(0.9); }
        .day-num { font-size: 12px; color: #888; display: block; }
        .day-icon { font-size: 24px; margin: 5px 0; display: block; }
        
        /* –≠–∫—Ä–∞–Ω –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è */
        #adventure-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--main-bg);
            padding: 25px; box-sizing: border-box;
            z-index: 100;
        }
        .artifact-title { color: var(--accent); text-align: center; }
        .btn-group { margin-top: 30px; }
        .play-btn {
            background: white;
            border: 2px solid var(--accent);
            color: var(--accent);
            padding: 15px; width: 100%;
            border-radius: 12px; margin-bottom: 10px;
            font-size: 16px; font-weight: bold;
        }
        .back-link { color: var(--accent); text-decoration: none; display: block; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div class="header">
        <h1>‚ú® –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≠–ª–ª–∏</h1>
        <p id="user-greeting">–ù–∞—á–Ω–µ–º –Ω–∞—à–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ?</p>
    </div>

    <div class="map-grid" id="map-grid"></div>

    <div id="adventure-screen">
        <a href="#" class="back-link" onclick="closeDay()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ä—Ç–µ</a>
        <h3 id="display-day-num">–î–µ–Ω—å 1</h3>
        <h1 id="display-artifact-name" class="artifact-title">–ù–∞–∑–≤–∞–Ω–∏–µ</h1>
        
        <div class="btn-group">
            <button class="play-btn" onclick="playAudio('child')">üß∏ –î–ª—è –¥–µ—Ç–µ–π</button>
            <button class="play-btn" onclick="playAudio('adult')">üßò –î–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö</button>
        </div>
        
        <p style="text-align: center; margin-top: 20px; font-style: italic;">
            –ù–∞–π–¥–∏—Ç–µ —ç—Ç–æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ —Å–≤–æ–µ–º —Å–µ—Ä–¥—Ü–µ...
        </p>
    </div>

    <script>
        const artifacts = [
            "–í–æ–ª—à–µ–±–Ω–∞—è –ö–∏—Å—Ç—å", "–ó–µ—Ä–∫–∞–ª–æ –ú–µ—á—Ç—ã", "–ö–æ–º–ø–∞—Å –ù–∞–º–µ—Ä–µ–Ω–∏–π", "–°—É–Ω–¥—É–∫ –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–µ–π", "–ê–º—É–ª–µ—Ç –°–∏–ª—ã",
            "–í–æ–ª—à–µ–±–Ω—ã–π –ü–æ—è—Å", "–©–∏—Ç –ù–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏", "–ú–æ—Å—Ç –†–∞–¥–æ—Å—Ç–∏", "–õ–æ–≤–µ—Ü –ú—ã—Å–ª–µ–π", "–í–æ–ª—à–µ–±–Ω–∞—è –ö–Ω–æ–ø–∫–∞",
            "–†—é–∫–∑–∞–∫ –ü–æ–¥–¥–µ—Ä–∂–∫–∏", "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –°–∞–¥", "–°–≤–µ—Ç–æ—Ñ–æ—Ä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏—è", "–î–æ–º–∏–∫ –°–ø–æ–∫–æ–π—Å—Ç–≤–∏—è", "–í–æ–ª—à–µ–±–Ω—ã–π –®–∞–≥",
            "–í–æ–ª—à–µ–±–Ω—ã–µ –û—á–∫–∏", "–û–¥–µ—è–ª–æ –ó–∞–±–æ—Ç—ã", "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –§–æ–Ω–∞—Ä–∏–∫", "–í–æ–ª—à–µ–±–Ω–æ–µ –°–µ—Ä–¥—Ü–µ", "–õ–µ—Å –¢–∏—à–∏–Ω—ã",
            "–í–æ–ª–Ω–∞ –†–∞–¥–æ—Å—Ç–∏", "–°–≤–µ—Ç–ª—è—á–æ–∫ –ó–∞–±–æ—Ç—ã", "–í–æ–ª—à–µ–±–Ω–æ–µ –£—Ö–æ", "–†–µ–∫–∞ –ü—Ä–∏–Ω—è—Ç–∏—è", "–õ–∞–º–ø–æ—á–∫–∞ –û—Å–æ–∑–Ω–∞–Ω–∏—è",
            "–ö—Ä—ã–ª—å—è –ú–µ—á—Ç—ã", "–ö—Ä–∏—Å—Ç–∞–ª–ª –ß–µ—Å—Ç–Ω–æ—Å—Ç–∏", "–ó–æ–ª–æ—Ç–∞—è –ù–∏—Ç—å", "–ó–≤–µ–∑–¥–∞ –ù–∞–¥–µ–∂–¥—ã", "–í–æ–ª—à–µ–±–Ω—ã–π –ö–ª—é—á"
        ];

        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        if (tg.initDataUnsafe?.user) {
            document.getElementById('user-greeting').innerText = `–ü—Ä–∏–≤–µ—Ç, ${tg.initDataUnsafe.user.first_name}! –°–µ–≥–æ–¥–Ω—è –Ω–∞—Å –∂–¥–µ—Ç —á—É–¥–æ.`;
        }

        const grid = document.getElementById('map-grid');
        artifacts.forEach((name, index) => {
            const div = document.createElement('div');
            div.className = 'day-box';
            div.innerHTML = `<span class="day-num">–î–µ–Ω—å ${index + 1}</span><span class="day-icon">‚ú®</span>`;
            div.onclick = () => openDay(index + 1, name);
            grid.appendChild(div);
        });

        function openDay(num, name) {
            document.getElementById('display-day-num').innerText = `–î–µ–Ω—å ${num}`;
            document.getElementById('display-artifact-name').innerText = name;
            document.getElementById('adventure-screen').style.display = 'block';
            window.scrollTo(0,0);
        }

        function closeDay() {
            document.getElementById('adventure-screen').style.display = 'none';
        }

        function playAudio(type) {
            tg.showAlert(`–ó–∞–ø—É—Å–∫–∞–µ–º –º–µ–¥–∏—Ç–∞—Ü–∏—é –¥–ª—è ${type === 'child' ? '–¥–µ—Ç–µ–π' : '–≤–∑—Ä–æ—Å–ª—ã—Ö'}!`);
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –ø–ª–µ–µ—Ä–∞, –∫–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã
        }
    </script>
</body>
</html>
