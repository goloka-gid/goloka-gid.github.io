<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Ä –≠–ª–ª–∏: 30 –¥–Ω–µ–π —á—É–¥–µ—Å</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg: #fdfbf7;
            --accent: #9b87f5;
            --text: #4a4a4a;
            --card: #ffffff;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 15px; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 20px; }
        .day-card { background: var(--card); padding: 15px 5px; border-radius: 15px; text-align: center; box-shadow: 0 4px 10px rgba(155, 135, 245, 0.1); cursor: pointer; transition: 0.2s; border: 1px solid #eee; }
        .day-card:active { transform: scale(0.95); }
        
        #content-page { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); overflow-y: auto; z-index: 100; padding: 20px; box-sizing: border-box; }
        .section-box { background: var(--card); border-radius: 18px; padding: 18px; margin-bottom: 20px; border: 1px solid #f0f0f0; }
        .section-title { font-weight: bold; color: var(--accent); margin-bottom: 12px; display: block; font-size: 18px; }
        
        .tab-menu { display: flex; gap: 8px; margin-bottom: 12px; }
        .tab-btn { flex: 1; padding: 8px; border: 1px solid var(--accent); background: none; border-radius: 10px; cursor: pointer; color: var(--accent); font-weight: 500; }
        .tab-btn.active { background: var(--accent); color: white; }
        
        .text-content { display: none; font-size: 15px; line-height: 1.6; color: #555; margin-top: 12px; white-space: pre-wrap; border-top: 1px solid #eee; padding-top: 10px; }
        audio { width: 100%; margin-top: 10px; border-radius: 10px; }
        .back-btn { background: none; border: none; color: var(--accent); font-size: 16px; margin-bottom: 15px; font-weight: bold; }
        h1, h2, h3 { text-align: center; }
    </style>
</head>
<body>

    <h2 style="color: var(--accent); margin-bottom: 5px;">‚ú® –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≠–ª–ª–∏</h2>
    <p style="text-align:center; font-size: 14px; margin-top:0;">30 –¥–Ω–µ–π –º–µ–¥–∏—Ç–∞—Ü–∏–π-–∏–≥—Ä</p>
    
    <div class="grid" id="main-grid"></div>

    <div id="content-page">
        <button class="back-btn" onclick="closeDay()">‚Üê –ö–∞—Ä—Ç–∞ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π</button>
        <h3 id="day-number-label" style="margin:0; font-size: 14px; color: #888;"></h3>
        <h2 id="artifact-name-label" style="margin-top:5px; color: var(--accent);"></h2>

        <div class="section-box">
            <span class="section-title">üìñ –ò—Å—Ç–æ—Ä–∏—è –≠–ª–ª–∏</span>
            <div class="tab-menu">
                <button class="tab-btn active" onclick="setMode(this, 'story-audio', 'story-text')">–°–ª—É—à–∞—Ç—å</button>
                <button class="tab-btn" onclick="setMode(this, 'story-text', 'story-audio')">–ß–∏—Ç–∞—Ç—å</button>
            </div>
            <audio id="story-audio" controls></audio>
            <div id="story-text" class="text-content"></div>
        </div>

        <div class="section-box">
            <span class="section-title">üéµ –ü–µ—Å–µ–Ω–∫–∞ –≠–ª–ª–∏</span>
            <audio id="song-audio" controls></audio>
        </div>

        <div class="section-box">
            <span class="section-title">üß∏ –î–ª—è –¥–µ—Ç–µ–π</span>
            <div class="tab-menu">
                <button class="tab-btn active" onclick="setMode(this, 'child-audio', 'child-text')">–ê—É–¥–∏–æ</button>
                <button class="tab-btn" onclick="setMode(this, 'child-text', 'child-audio')">–¢–µ–∫—Å—Ç</button>
            </div>
            <audio id="child-audio" controls></audio>
            <div id="child-text" class="text-content">–¢–µ–∫—Å—Ç –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –¥–ª—è –¥–µ—Ç–µ–π —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è...</div>
        </div>

        <div class="section-box">
            <span class="section-title">üßò –î–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö</span>
            <div class="tab-menu">
                <button class="tab-btn active" onclick="setMode(this, 'adult-audio', 'adult-text')">–ê—É–¥–∏–æ</button>
                <button class="tab-btn" onclick="setMode(this, 'adult-text', 'adult-audio')">–¢–µ–∫—Å—Ç</button>
            </div>
            <audio id="adult-audio" controls></audio>
            <div id="adult-text" class="text-content">–¢–µ–∫—Å—Ç –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è...</div>
        </div>
    </div>

    <script>
        const artifacts = ["–í–æ–ª—à–µ–±–Ω–∞—è –ö–∏—Å—Ç—å", "–ó–µ—Ä–∫–∞–ª–æ –ú–µ—á—Ç—ã", "–ö–æ–º–ø–∞—Å –ù–∞–º–µ—Ä–µ–Ω–∏–π", "–°—É–Ω–¥—É–∫ –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–µ–π", "–ê–º—É–ª–µ—Ç –°–∏–ª—ã", "–í–æ–ª—à–µ–±–Ω—ã–π –ü–æ—è—Å", "–©–∏—Ç –ù–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏", "–ú–æ—Å—Ç –†–∞–¥–æ—Å—Ç–∏", "–õ–æ–≤–µ—Ü –ú—ã—Å–ª–µ–π", "–í–æ–ª—à–µ–±–Ω–∞—è –ö–Ω–æ–ø–∫–∞", "–†—é–∫–∑–∞–∫ –ü–æ–¥–¥–µ—Ä–∂–∫–∏", "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –°–∞–¥", "–°–≤–µ—Ç–æ—Ñ–æ—Ä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏—è", "–î–æ–º–∏–∫ –°–ø–æ–∫–æ–π—Å—Ç–≤–∏—è", "–í–æ–ª—à–µ–±–Ω—ã–π –®–∞–≥", "–í–æ–ª—à–µ–±–Ω—ã–µ –û—á–∫–∏", "–û–¥–µ—è–ª–æ –ó–∞–±–æ—Ç—ã", "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –§–æ–Ω–∞—Ä–∏–∫", "–í–æ–ª—à–µ–±–Ω–æ–µ –°–µ—Ä–¥—Ü–µ", "–õ–µ—Å –¢–∏—à–∏–Ω—ã", "–í–æ–ª–Ω–∞ –†–∞–¥–æ—Å—Ç–∏", "–°–≤–µ—Ç–ª—è—á–æ–∫ –ó–∞–±–æ—Ç—ã", "–í–æ–ª—à–µ–±–Ω–æ–µ –£—Ö–æ", "–†–µ–∫–∞ –ü—Ä–∏–Ω—è—Ç–∏—è", "–õ–∞–º–ø–æ—á–∫–∞ –û—Å–æ–∑–Ω–∞–Ω–∏—è", "–ö—Ä—ã–ª—å—è –ú–µ—á—Ç—ã", "–ö—Ä–∏—Å—Ç–∞–ª–ª –ß–µ—Å—Ç–Ω–æ—Å—Ç–∏", "–ó–æ–ª–æ—Ç–∞—è –ù–∏—Ç—å", "–ó–≤–µ–∑–¥–∞ –ù–∞–¥–µ–∂–¥—ã", "–í–æ–ª—à–µ–±–Ω—ã–π –ö–ª—é—á"];

        // –¢–ï–ö–°–¢–´ –î–õ–Ø –î–ù–Ø 1
        const dayTexts = {
            1: {
                story: `üåü –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –∫ —Å–µ–±–µ: –ò–≥—Ä–∞-–ú–µ–¥–∏—Ç–∞—Ü–∏—è –Ω–∞ 30 –¥–Ω–µ–π\n\n‚ú® –≠–ª–ª–∏ –∏ –í–æ–ª—à–µ–±–Ω–∞—è –ö–∏—Å—Ç—å ‚ú®\n\n–í –∫—Ä–∞—é, –≥–¥–µ –∑–≤—ë–∑–¥—ã –ø–∞–¥–∞—é—Ç –≤ –ª–∞–¥–æ–Ω–∏, –∞ –¥–µ—Ä–µ–≤—å—è —É–º–µ—é—Ç —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å –ø—Ä–∏ –ª—É–Ω–Ω–æ–º —Å–≤–µ—Ç–µ...\n\n–í –¥–∞–ª—ë–∫–æ–º-–¥–∞–ª—ë–∫–æ–º —É–≥–æ–ª–∫–µ –≤–æ–ª—à–µ–±–Ω–æ–≥–æ –ª–µ—Å–∞, –≥–¥–µ –æ–±–ª–∞–∫–∞ –Ω–∞—à—ë–ø—Ç—ã–≤–∞–ª–∏ –¥—Ä–µ–≤–Ω–∏–µ —Å–∫–∞–∑–∞–Ω–∏—è, –∂–∏–ª–∞-–±—ã–ª–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –¥–µ–≤–æ—á–∫–∞ –ø–æ –∏–º–µ–Ω–∏ –≠–ª–ª–∏. –í–æ–ª–æ—Å—ã —É –Ω–µ—ë –±—ã–ª–∏ —Ü–≤–µ—Ç–∞ –æ—Å–µ–Ω–Ω–∏—Ö –ª–∏—Å—Ç—å–µ–≤, –∞ –≥–ª–∞–∑–∞ ‚Äî –±–æ–ª—å—à–∏–µ –∏ —è—Å–Ω—ã–µ, –∫–∞–∫ –¥–≤–∞ –æ–∑—ë—Ä—ã—à–∫–∞.\n\n–û–¥–Ω–∞–∂–¥—ã –≠–ª–ª–∏ –ø—Ä–∏—Å–Ω–∏–ª—Å—è —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π —Å–æ–Ω –æ —Å–æ–∫—Ä–æ–≤–∏—â–µ. –ü—Ä–æ—Å–Ω—É–≤—à–∏—Å—å, –æ–Ω–∞ –Ω–∞—à–ª–∞ –Ω–∞ –ø–æ–¥—É—à–∫–µ –Ω–µ–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—É—é –∫–∏—Å—Ç–æ—á–∫—É. –û–Ω–∞ –±—ã–ª–∞ –Ω–µ–≤–µ—Å–æ–º–æ–π, –∞ –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë –ø—É–ª—å—Å–∏—Ä–æ–≤–∞–ª —Ç—ë–ø–ª—ã–π –∑–æ–ª–æ—Ç–∏—Å—Ç—ã–π —Å–≤–µ—Ç.\n\n‚Äî –≠—Ç–æ —Ç–≤–æ—è –í–æ–ª—à–µ–±–Ω–∞—è –ö–∏—Å—Ç—å –°–µ—Ä–¥—Ü–∞, ‚Äî –ø—Ä–æ—à–µ–ø—Ç–∞–ª –≤–µ—Ç–µ—Ä–æ–∫. ‚Äî –í—Å—ë, —á—Ç–æ —Ç—ã –Ω–∞—Ä–∏—Å—É–µ—à—å –µ—é –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è ‚Äî –≤ —Å–≤–æ—ë–º –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–∏ ‚Äî –Ω–µ–ø—Ä–µ–º–µ–Ω–Ω–æ –æ–∂–∏–≤—ë—Ç –¥–ª—è —Ç–µ–±—è.\n\n–≠–ª–ª–∏ –≤–∑–º–∞—Ö–Ω—É–ª–∞ –∫–∏—Å—Ç—å—é, –∏ –≤ –≤–æ–∑–¥—É—Ö–µ –≤–æ–∑–Ω–∏–∫–ª–∞ —Å–∏—è—é—â–∞—è —Ä–∞–¥—É–≥–∞! –ê –ø–æ—Ç–æ–º ‚Äî –¥–æ–±—Ä–æ–µ —Å–æ–ª–Ω—ã—à–∫–æ –∏ –∑–æ–ª–æ—Ç–∞—è –¥–æ—Ä–æ–∂–∫–∞ –∏–∑ –∑–≤—ë–∑–¥. –° —Ç–µ—Ö –ø–æ—Ä –ö–∏—Å—Ç—å –≤—Å–µ–≥–¥–∞ —Å –Ω–µ–π. –ò –∫–æ–≥–¥–∞ –µ–π –≥—Ä—É—Å—Ç–Ω–æ –∏–ª–∏ —Å—Ç—Ä–∞—à–Ω–æ, –æ–Ω–∞ —Ä–∏—Å—É–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–µ–≥–æ —Å–µ—Ä–¥—Ü–∞ –º–∏—Ä, –≥–¥–µ –ø–æ—é—Ç –ø—Ç–∏—Ü—ã —Ä–∞–¥–æ—Å—Ç–∏ –∏ —Å–≤–µ—Ç–∏—Ç —Å–æ–ª–Ω—Ü–µ –≤–µ—Ä—ã.\n\n–ü–æ–º–Ω–∏: –≥–ª–∞–≤–Ω–æ–µ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ –≤—Å–µ–≥–¥–∞ –∂–∏–≤—ë—Ç –≤–Ω—É—Ç—Ä–∏ –Ω–∞—Å —Å–∞–º–∏—Ö...`,
                child: "–¢–µ–∫—Å—Ç –¥–µ—Ç—Å–∫–æ–π –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –ø—Ä–æ –í–æ–ª—à–µ–±–Ω—É—é –ö–∏—Å—Ç—å...",
                adult: "–¢–µ–∫—Å—Ç –≤–∑—Ä–æ—Å–ª–æ–π –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –ø—Ä–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é..."
            }
        };

        const grid = document.getElementById('main-grid');
        artifacts.forEach((name, i) => {
            const card = document.createElement('div');
            card.className = 'day-card';
            card.innerHTML = `<div style="font-size:10px; color:#aaa;">–î–ï–ù–¨ ${i+1}</div><div style="font-size:22px; margin:5px 0;">‚ú®</div><div style="font-size:11px; font-weight:bold; color:#777;">${name}</div>`;
            card.onclick = () => openDay(i+1, name);
            grid.appendChild(card);
        });

        function openDay(num, name) {
            document.getElementById('day-number-label').innerText = `–î–ï–ù–¨ ${num}`;
            document.getElementById('artifact-name-label').innerText = name;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É–¥–∏–æ
            document.getElementById('story-audio').src = `audio/day${num}_story.mp3`;
            document.getElementById('song-audio').src = `audio/day${num}_song.mp3`;
            document.getElementById('child-audio').src = `audio/day${num}_child.mp3`;
            document.getElementById('adult-audio').src = `audio/day${num}_adult.mp3`;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤
            document.getElementById('story-text').innerText = dayTexts[num]?.story || "–ò—Å—Ç–æ—Ä–∏—è —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è...";
            document.getElementById('child-text').innerText = dayTexts[num]?.child || "–¢–µ–∫—Å—Ç –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ...";
            document.getElementById('adult-text').innerText = dayTexts[num]?.adult || "–¢–µ–∫—Å—Ç –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ...";
            
            document.getElementById('content-page').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function closeDay() {
            document.querySelectorAll('audio').forEach(a => a.pause());
            document.getElementById('content-page').style.display = 'none';
        }

        function setMode(btn, showId, hideId) {
            btn.parentNode.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById(showId).style.display = 'block';
            document.getElementById(hideId).style.display = 'none';
        }

        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
    </script>
</body>
</html>
